<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Hotel com Registro</title>
</head>
<body>
    <h1>üè® Hotel (Constru√ß√£o + Check-in)</h1>

    <div style="background: #eee; padding: 10px;">
        <h3>1. Cadastrar Quarto (Construir)</h3>
        <input id="numQuarto" placeholder="N√∫mero (ex: 101)">
        <select id="tipoQuarto">
            <option value="simples">Simples</option>
            <option value="luxo">Luxo</option>
        </select>
        <button onclick="cadastrarQuarto()">Cadastrar Quarto</button>
    </div>

    <div style="background: #cce5ff; padding: 10px; margin-top: 10px;">
        <h3>2. Check-in (Ocupar Quarto)</h3>
        <p>Escolha um quarto existente e diga quem vai entrar:</p>
        <input id="buscaNumero" placeholder="N√∫mero do quarto existente">
        <input id="nomeHospede" placeholder="Nome do H√≥spede">
        <button onclick="fazerCheckin()">Fazer Check-in</button>
    </div>

    <h3>Ocupa√ß√µes Atuais:</h3>
    <ul id="listaOcupados"></ul>

    <script>
        // --- 1. MODELO ---
        class Quarto {
            constructor(numero, tipo) {
                this.numero = numero; // Ex: "101"
                this.tipo = tipo;     // Ex: "Luxo"
            }
        }
    
        // --- 2. SISTEMA (HOTEL) ---
        class Hotel {
            quartosCadastrados = []; // LISTA 1: Os quartos f√≠sicos (paredes e portas).
            ocupacoes = [];          // LISTA 2: As pessoas que est√£o dormindo l√° hoje.
    
            // FUNCIONALIDADE A: Construir/Cadastrar Quarto
            cadastrar(novoQuarto) {
                // (Poder√≠amos adicionar valida√ß√£o aqui para n√£o criar dois quartos 101, mas vamos simplificar)
                this.quartosCadastrados.push(novoQuarto); // Salva na lista de quartos existentes
                alert(`Quarto ${novoQuarto.numero} criado com sucesso!`);
            }
    
            // FUNCIONALIDADE B: Check-in (Vincular uma pessoa a um quarto existente)
            fazerCheckin(numeroQuarto, nomePessoa) {
                // PASSO 1: Verifica se o quarto existe fisicamente
                // Procura na lista 'quartosCadastrados' um quarto com esse n√∫mero
                let quartoReal = this.quartosCadastrados.find(q => q.numero === numeroQuarto);
                
                // Se n√£o achou (quartoReal √© undefined), erro.
                if (!quartoReal) {
                    alert("Erro: Esse quarto n√£o existe no hotel! Cadastre primeiro.");
                    return;
                }
    
                // (Aqui poder√≠amos verificar se j√° tem algu√©m dentro, mas focaremos no cadastro)
    
                // PASSO 2: Cria o objeto de Ocupa√ß√£o
                let ocupacao = {
                    quarto: quartoReal, // Guarda o objeto do quarto
                    hospede: nomePessoa, // Guarda o nome da pessoa
                    entrada: new Date()  // Guarda a hora
                };
    
                // Adiciona na lista de ocupa√ß√µes ativas
                this.ocupacoes.push(ocupacao);
                this.atualizarTela();
            }
    
            // Fun√ß√£o visual
            atualizarTela() {
                let lista = document.getElementById("listaOcupados");
                lista.innerHTML = "";
                
                this.ocupacoes.forEach(oc => {
                    // Mostra: Quarto 101 (Simples) - H√≥spede: Jo√£o
                    // Note como acessamos oc.quarto.numero (navegando dentro dos objetos)
                    lista.innerHTML += `<li>Quarto ${oc.quarto.numero} (${oc.quarto.tipo}) - H√≥spede: ${oc.hospede}</li>`;
                });
            }
        }
    
        // --- 3. BOT√ïES ---
        const sistema = new Hotel();
    
        // Bot√£o da √°rea cinza (Cadastro)
        function cadastrarQuarto() {
            let num = document.getElementById("numQuarto").value;
            let tipo = document.getElementById("tipoQuarto").value;
            // Cria o objeto Quarto e manda pro sistema guardar
            sistema.cadastrar(new Quarto(num, tipo));
        }
    
        // Bot√£o da √°rea azul (Check-in)
        function fazerCheckin() {
            let num = document.getElementById("buscaNumero").value; // Qual quarto a pessoa quer?
            let nome = document.getElementById("nomeHospede").value; // Quem √© a pessoa?
            // Manda o sistema processar a entrada
            sistema.fazerCheckin(num, nome);
        }
    </script>
</body>
</html>